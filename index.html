<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AIç”¨èªé›†ã‚¢ãƒ—ãƒª</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- ğŸ” TOPãƒšãƒ¼ã‚¸ -->
  <div class="top-page">

    <input 
      type="text" 
      id="searchInput" 
      placeholder="ç”¨èªã‚’æ¤œç´¢ã™ã‚‹â€¦" 
      class="search-bar"
    />

    <div class="menu-buttons">
      <button class="menu-btn" id="btn-chapters">ç« ä¸€è¦§ï¼ˆç”¨èªé›†ï¼‰</button>
      <button class="menu-btn" id="btn-random">ãƒ©ãƒ³ãƒ€ãƒ ã§1èªå­¦ã¶</button>
      <button class="menu-btn" id="btn-today10">ä»Šæ—¥ã®10èª</button>
      <button class="menu-btn" id="btn-test">ç« ã”ã¨ã®ãƒŸãƒ‹ãƒ†ã‚¹ãƒˆ</button>
      <button class="menu-btn" id="btn-wrong">è‹¦æ‰‹èªãƒªã‚¹ãƒˆ</button>
      <button class="menu-btn" style="visibility: hidden;">ï¼ˆç©ºç™½ï¼‰</button>
    </div>

  </div>

  <!-- ğŸ“š ã‚¹ãƒ†ãƒƒãƒ—â‘ ï¼šç« ä¸€è¦§ç”»é¢ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
  <div id="chapterList" class="hidden">
    <h2>ç« ä¸€è¦§</h2>
    <button id="btn-home" class="back-btn">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
    <div id="chapterButtons"></div>
  </div>

  <!-- ğŸ”½ JSONèª­ã¿è¾¼ã¿ï¼‹ã‚¹ãƒ†ãƒƒãƒ—â‘¡ã€œâ‘£ -->
  <script>
    /* JSONãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ */
    const chapterFiles = [
      "data/01_ai.json",
      "data/02_trends.json",
      "data/03_machine_learning.json",
      "data/04_deep_learning.json",
      "data/05_dl_components.json",
      "data/06_dl_applications.json",
      "data/07_ai_social_implementation.json",
      "data/08_math_statistics.json",
      "data/09_ai_law_contract.json",
      "data/10_ai_ethics_governance.json"
    ];

    /* JSONã‚’å…¨éƒ¨èª­ã¿è¾¼ã‚€ */
    async function loadAllChapters() {
      const allChapters = [];
      for (const file of chapterFiles) {
        const response = await fetch(file);
        const json = await response.json();
        allChapters.push(json);
      }
      return allChapters;
    }

    /* ã‚¹ãƒ†ãƒƒãƒ—â‘¡ï¼šç« ä¸€è¦§ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ç”»é¢åˆ‡ã‚Šæ›¿ãˆ */
    document.getElementById("btn-chapters").addEventListener("click", () => {
      document.querySelector(".top-page").classList.add("hidden");
      document.getElementById("chapterList").classList.remove("hidden");
    });

    /* ã‚¹ãƒ†ãƒƒãƒ—â‘£ï¼šç« ã‚¿ã‚¤ãƒˆãƒ«ã‚’è‡ªå‹•ã§ãƒœã‚¿ãƒ³ç”Ÿæˆ */
    window.addEventListener("DOMContentLoaded", async () => {
      const chapters = await loadAllChapters();
      console.log("èª­ã¿è¾¼ã‚“ã ç« ãƒ‡ãƒ¼ã‚¿ï¼š", chapters);

      const chapterButtons = document.getElementById("chapterButtons");

      chapters.forEach((chapter, index) => {
        const btn = document.createElement("button");
        btn.className = "menu-btn";
        btn.textContent = `ç¬¬${index + 1}ç« ï¼š${chapter.chapter_title}`;
        chapterButtons.appendChild(btn);
      });
    });
  </script>

</body>
</html>
