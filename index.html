  <!-- ðŸ”½ JSONèª­ã¿è¾¼ã¿ï¼‹ç”»é¢åˆ‡ã‚Šæ›¿ãˆ -->
  <script>
    /* JSONãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ */
    const chapterFiles = [
      "data/01_ai.json",
      "data/02_trends.json",
      "data/03_machine_learning.json",
      "data/04_deep_learning.json",
      "data/05_dl_components.json",
      "data/06_dl_applications.json",
      "data/07_ai_social_implementation.json",
      "data/08_math_statistics.json",
      "data/09_ai_law_contract.json",
      "data/10_ai_ethics_governance.json"
    ];

    /* JSONã‚’å…¨éƒ¨èª­ã¿è¾¼ã‚€ */
    async function loadAllChapters() {
      const allChapters = [];
      for (const file of chapterFiles) {
        const response = await fetch(file);
        const json = await response.json();
        allChapters.push(json);
      }
      return allChapters;
    }

    /* ç« ä¸€è¦§ãƒœã‚¿ãƒ³ â†’ ç« ä¸€è¦§ç”»é¢ã¸ */
    document.getElementById("btn-chapters").addEventListener("click", () => {
      document.querySelector(".top-page").classList.add("hidden");
      document.getElementById("chapterList").classList.remove("hidden");
    });

    /* ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹ï¼ˆç« ä¸€è¦§ï¼‰ */
    document.getElementById("btn-home").addEventListener("click", () => {
      document.getElementById("chapterList").classList.add("hidden");
      document.querySelector(".top-page").classList.remove("hidden");
    });

    /* ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹ï¼ˆç”¨èªžä¸€è¦§ï¼‰ */
    document.getElementById("btn-term-home").addEventListener("click", () => {
      document.getElementById("termList").classList.add("hidden");
      document.querySelector(".top-page").classList.remove("hidden");
    });

    /* ç« ä¸€è¦§ã«æˆ»ã‚‹ï¼ˆç”¨èªžä¸€è¦§ï¼‰ */
    document.getElementById("btn-back-chapters").addEventListener("click", () => {
      document.getElementById("termList").classList.add("hidden");
      document.getElementById("chapterList").classList.remove("hidden");
    });

    /* ç”¨èªžè©³ç´°ç”»é¢ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ï¼ˆå¾Œã§è¿½åŠ ã™ã‚‹ãŸã‚ã®ç©ºï¼‰ */
    // â€»è©³ç´°ç”»é¢ã¯ã¾ã HTMLã«è¿½åŠ ã•ã‚Œã¦ã„ãªã„ã®ã§å¾Œã§è¿½åŠ ã™ã‚‹ã‚ˆ

    /* ç”¨èªžä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°ï¼ˆã‚¹ãƒ†ãƒƒãƒ—â‘¤ï¼‰ */
    function showTerms(chapterIndex, chapterData) {
      document.getElementById("chapterList").classList.add("hidden");
      document.getElementById("termList").classList.remove("hidden");

      document.getElementById("termListTitle").textContent =
        `ç¬¬${chapterIndex + 1}ç« ï¼š${chapterData.chapter_title}`;

      const termButtons = document.getElementById("termButtons");
      termButtons.innerHTML = "";

      chapterData.terms.forEach((term) => {
        const btn = document.createElement("button");
        btn.className = "menu-btn";
        btn.textContent = term.term;

        // ðŸ”½ ç”¨èªžã‚’æŠ¼ã—ãŸã‚‰è©³ç´°ç”»é¢ã¸ï¼ˆã‚¹ãƒ†ãƒƒãƒ—â‘¥ï¼‰
        btn.addEventListener("click", () => {
          showTermDetail(term);
        });

        termButtons.appendChild(btn);
      });
    }

    /* ç”¨èªžè©³ç´°ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°ï¼ˆã‚¹ãƒ†ãƒƒãƒ—â‘¥ï¼‰ */
    function showTermDetail(termData) {
      document.getElementById("termList").classList.add("hidden");
      document.getElementById("termDetail").classList.remove("hidden");

      document.getElementById("detailTerm").textContent = termData.term;
      document.getElementById("detailReading").textContent = termData.reading || "ï¼ˆãªã—ï¼‰";
      document.getElementById("detailDefinition").textContent = termData.definition || "ï¼ˆå®šç¾©ãªã—ï¼‰";
      document.getElementById("detailExample").textContent = termData.example || "ï¼ˆä¾‹æ–‡ãªã—ï¼‰";
    }

    /* ç« ãƒœã‚¿ãƒ³ç”Ÿæˆï¼ˆã‚¹ãƒ†ãƒƒãƒ—â‘£ï¼‹â‘¤ï¼‰ */
    window.addEventListener("DOMContentLoaded", async () => {
      const chapters = await loadAllChapters();
      const chapterButtons = document.getElementById("chapterButtons");

      chapters.forEach((chapter, index) => {
        const btn = document.createElement("button");
        btn.className = "menu-btn";
        btn.textContent = `ç¬¬${index + 1}ç« ï¼š${chapter.chapter_title}`;

        // ðŸ”½ ç« ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‚‰ç”¨èªžä¸€è¦§ã¸
        btn.addEventListener("click", () => {
          showTerms(index, chapters[index]);
        });

        chapterButtons.appendChild(btn);
      });
    });
  </script>

</body>
</html>
